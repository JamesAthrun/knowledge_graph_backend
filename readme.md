# Readme
# 后端的几点说明

## 与前端的交互
### 1.接受请求
GET/POST   
原则上，对简单请求，「删查」使用GET，「增改」使用POST  
POST请求的请求头需带上 'content-type': 'application/json'，RequestBody需使用json字符串格式  
### 2.返回请求
response.content的数据格式为bytes，json解析后得到字典  
{'code':xxx,'message':xxx,'data':xxx}  
其中，code为状态码，message为描述，data为返回对象（json字符串格式）  
#### 操作成功
code为1，message为null  
对不需要返回对象的操作（如简单的「增删改」），data为null  
对需要返回对象的操作（如简单的「查」），对data再次进行json解析后可得到返回对象，如{'id': '1', 'name': 'Jack', 'score':'100'}  
#### 操作失败
code大于1，message为错误信息，data为null  
### *3.加密
后续视需求对response.content进行加密

## 后端项目结构
controller 控制层 如JackController.java  
bl 业务逻辑层接口 如JackService.java  
blImpl 业务逻辑层实现 如JackServiceImpl.java  
data 数据层接口 如JackMapper.java  
dataImpl 数据层实现 如JackMapper.xml，在resources目录下  
po 略  
vo 略  
util 一些工具类  

### 3.异常处理
原则上异常在util.GlobalExceptionHandler统一处理  
### 4.返回值
业务逻辑层的返回值用util.ResultBean统一封装
### 5.数据库
使用mysql数据库，resources目录下的application.yml定义了与数据库的连接

### 6.示例
#### 6.1 搜索页
<http://localhost:8080/KG/search?keywords=成年人>  
```json
{"code":1,"message":null,"data":"{\"data\":[{\"name\":\"http://www.openkg.cn/COVID-19/prevention#成年人\",\"id\":\"87114\"},{\"name\":\"{\\\"_language\\\":\\\"zh\\\",\\\"_value\\\":\\\"成年人\\\"}\",\"id\":\"95393\"}]}"}
```
#### 6.2 搜索列表页
<http://localhost:8080/KG/getGraphData?id=86604>  
```json
{"code":1,"message":null,"data":"{\"data\":[{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C1\",\"id\":\"91653\"},{\"name\":\"_type\",\"id\":\"86502\"},{\"name\":\"{\\\"_value\\\":\\\"参会人员会议期间相互距离不少于1米。会议室应每日一消，配备手消液或消毒纸巾。\\\"}\",\"id\":\"154995\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010903\",\"id\":\"153669\"},{\"name\":\"{\\\"_value\\\":\\\"确保老人掌握预防新型冠状病毒感染的肺炎的个人防护措施、手卫生要求、卫生和健康习惯，避免共用个人物品，注意居室通风，落实消毒措施。倡导老人养成经常洗手的好习惯。\\\"}\",\"id\":\"130447\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C604\",\"id\":\"94594\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R102030201\",\"id\":\"87828\"},{\"name\":\"http://www.w3.org/2000/01/rdf-schema#range\",\"id\":\"91551\"},{\"name\":\"{\\\"_value\\\":\\\"上班期间办公室每日定时通风不少于2次，每次20～30分钟，办公室设有洗手龙头或配备手消液。\\\"}\",\"id\":\"155998\"},{\"name\":\"{\\\"_language\\\":\\\"en\\\",\\\"_value\\\":\\\"Children\\\"}\",\"id\":\"95597\"},{\"name\":\"{\\\"_value\\\":\\\"老人出现发热、咳嗽等可疑症状时，应自我隔离，避免与其他人员近距离接触。由医护人员对其健康状况进行评估，视病情状况送至医疗机构就诊，送医途中应佩戴口罩，尽量避免乘坐公共交通工具。\\\"}\",\"id\":\"127914\"},{\"name\":\"http://www.w3.org/2002/07/owl#NamedIndividual\",\"id\":\"89341\"},{\"name\":\"{\\\"_language\\\":\\\"zh\\\",\\\"_value\\\":\\\"警察预防措施5\\\"}\",\"id\":\"154893\"},{\"name\":\"http://www.w3.org/2000/01/rdf-schema#subPropertyOf\",\"id\":\"117306\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3030202\",\"id\":\"169224\"},{\"name\":\"{\\\"_value\\\":\\\"采取错时分餐，避免聚餐。每次餐后彻底清扫餐厅环境卫生，餐桌无食物残渣，地面无卫生死角，厨余垃圾及时清运处理。对使用完餐具及时进行清洗和消毒。\\\"}\",\"id\":\"151952\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010806\",\"id\":\"151153\"},{\"name\":\"{\\\"_language\\\":\\\"zh\\\",\\\"_value\\\":\\\"警察\\\"}\",\"id\":\"97314\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C10102\",\"id\":\"95495\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3030506\",\"id\":\"183164\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010802\",\"id\":\"149130\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention#道路客运\",\"id\":\"88729\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010601\",\"id\":\"142058\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R610\",\"id\":\"89137\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C10103\",\"id\":\"95801\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C30704\",\"id\":\"113685\"},{\"name\":\"{\\\"_value\\\":\\\"集体宿舍勤通风，床铺间距离1米以上，每日打扫卫生，垃圾及时清理，每周对宿舍进行彻底清扫和清洁。\\\"}\",\"id\":\"151459\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/property/P31\",\"id\":\"118224\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R1020201\",\"id\":\"87624\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010201\",\"id\":\"127608\"},{\"name\":\"{\\\"_language\\\":\\\"en\\\",\\\"_value\\\":\\\"People\\\"}\",\"id\":\"94985\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/property/P3\",\"id\":\"117918\"},{\"name\":\"{\\\"_language\\\":\\\"zh\\\",\\\"_value\\\":\\\"老年人\\\"}\",\"id\":\"96005\"},{\"name\":\"{\\\"_language\\\":\\\"en\\\",\\\"_value\\\":\\\"Police\\\"}\",\"id\":\"97212\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R303010302\",\"id\":\"164787\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R1121\",\"id\":\"122270\"},{\"name\":\"{\\\"_language\\\":\\\"zh\\\",\\\"_value\\\":\\\"水路客运预防措施\\\"}\",\"id\":\"113787\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C3\",\"id\":\"91466\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C5\",\"id\":\"114994\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/property/P42\",\"id\":\"93880\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/property/P332\",\"id\":\"119533\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/property/P5\",\"id\":\"121046\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/property/P0232\",\"id\":\"117612\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C1020201\",\"id\":\"97110\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010807\",\"id\":\"151646\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R10103\",\"id\":\"87318\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C20403\",\"id\":\"104896\"},{\"name\":\"http://www.w3.org/2000/01/rdf-schema#domain\",\"id\":\"91364\"},{\"name\":\"http://www.openkg.cn/COVID-19/goods/class/C306\",\"id\":\"90038\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R10105\",\"id\":\"87420\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010907\",\"id\":\"155692\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010908\",\"id\":\"156202\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C4\",\"id\":\"114688\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C6\",\"id\":\"115300\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R10102\",\"id\":\"87216\"},{\"name\":\"http://www.openkg.cn/COVID-19/goods/property/P019\",\"id\":\"90854\"},{\"name\":\"{\\\"_value\\\":\\\"避免聚会、打牌、下棋、跳广场舞等活动。\\\"}\",\"id\":\"129937\"},{\"name\":\"{\\\"_language\\\":\\\"zh\\\",\\\"_value\\\":\\\"农民工\\\"}\",\"id\":\"97926\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010204\",\"id\":\"129138\"},{\"name\":\"http://www.w3.org/2002/07/owl#equivalentClass\",\"id\":\"95189\"},{\"name\":\"{\\\"_value\\\":\\\"适用人群\\\"}\",\"id\":\"91262\"},{\"name\":\"{\\\"_value\\\":\\\"有慢性肺病、心脏病\\\"}\",\"id\":\"121760\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3070401\",\"id\":\"225783\"},{\"name\":\"{\\\"_language\\\":\\\"zh\\\",\\\"_value\\\":\\\"道路客运\\\"}\",\"id\":\"115895\"},{\"name\":\"http://www.w3.org/2000/01/rdf-schema#label\",\"id\":\"91058\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3030101\",\"id\":\"162866\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010905\",\"id\":\"154689\"},{\"name\":\"{\\\"_value\\\":\\\"实行错时就餐和分桌就餐。加强餐（饮）具的清洁消毒，餐（饮）具应一人一具一用一消毒。用餐场所应保持通风换气，每日对餐桌椅及地面进行清洁和消毒。\\\"}\",\"id\":\"156508\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C30301\",\"id\":\"109231\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/property/P34\",\"id\":\"119839\"},{\"name\":\"http://www.w3.org/2002/07/owl#Class\",\"id\":\"86706\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention#城市公共汽电车\",\"id\":\"88321\"},{\"name\":\"{\\\"_language\\\":\\\"en\\\",\\\"_value\\\":\\\"Migrant workers\\\"}\",\"id\":\"97824\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010205\",\"id\":\"129631\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3011010\",\"id\":\"161761\"},{\"name\":\"http://www.w3.org/2002/07/owl#oneOf\",\"id\":\"86808\"},{\"name\":\"{\\\"_language\\\":\\\"zh\\\",\\\"_value\\\":\\\"人群\\\"}\",\"id\":\"95087\"},{\"name\":\"http://www.openkg.cn/COVID-19/goods/class/C2070201\",\"id\":\"89647\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010306\",\"id\":\"132674\"},{\"name\":\"http://www.w3.org/2000/01/rdf-schema#subClassOf\",\"id\":\"94900\"},{\"name\":\"{\\\"_value\\\":\\\"家庭预防措施\\\"}\",\"id\":\"109333\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C307\",\"id\":\"112869\"},{\"name\":\"_:genid1\",\"id\":\"86604\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3010206\",\"id\":\"130141\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C1020302\",\"id\":\"97722\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/resource/R3070409\",\"id\":\"228724\"},{\"name\":\"{\\\"_value\\\":\\\"工作场所多人一起工作时，每人应佩戴口罩。\\\"}\",\"id\":\"149436\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C30702\",\"id\":\"113277\"},{\"name\":\"http://www.openkg.cn/COVID-19/goods/class/C207\",\"id\":\"89545\"},{\"name\":\"http://www.openkg.cn/COVID-19/prevention/class/C303\",\"id\":\"108925\"}],\"link\":[{\"name\":\"86808\",\"source\":\"86604\",\"target\":\"87318\"},{\"name\":\"86808\",\"source\":\"86604\",\"target\":\"87828\"},{\"name\":\"86808\",\"source\":\"86604\",\"target\":\"87624\"},{\"name\":\"86502\",\"source\":\"86604\",\"target\":\"86706\"},{\"name\":\"95189\",\"source\":\"91653\",\"target\":\"86604\"},{\"name\":\"121046\",\"source\":\"87318\",\"target\":\"121760\"},{\"name\":\"91058\",\"source\":\"87318\",\"target\":\"96005\"},{\"name\":\"86502\",\"source\":\"87318\",\"target\":\"89341\"},{\"name\":\"90854\",\"source\":\"127608\",\"target\":\"87318\"},{\"name\":\"90854\",\"source\":\"129631\",\"target\":\"87318\"},{\"name\":\"90854\",\"source\":\"130141\",\"target\":\"87318\"},{\"name\":\"121046\",\"source\":\"129138\",\"target\":\"121760\"},{\"name\":\"91058\",\"source\":\"95801\",\"target\":\"96005\"},{\"name\":\"86502\",\"source\":\"88321\",\"target\":\"89341\"},{\"name\":\"86502\",\"source\":\"142058\",\"target\":\"89341\"},{\"name\":\"93880\",\"source\":\"127608\",\"target\":\"127914\"},{\"name\":\"117612\",\"source\":\"127608\",\"target\":\"89137\"},{\"name\":\"86502\",\"source\":\"129631\",\"target\":\"89341\"},{\"name\":\"93880\",\"source\":\"129631\",\"target\":\"129937\"},{\"name\":\"86502\",\"source\":\"130141\",\"target\":\"89341\"},{\"name\":\"93880\",\"source\":\"130141\",\"target\":\"130447\"},{\"name\":\"86502\",\"source\":\"87828\",\"target\":\"89341\"},{\"name\":\"86502\",\"source\":\"87828\",\"target\":\"97722\"},{\"name\":\"91058\",\"source\":\"87828\",\"target\":\"97926\"},{\"name\":\"90854\",\"source\":\"151153\",\"target\":\"87828\"},{\"name\":\"90854\",\"source\":\"151646\",\"target\":\"87828\"},{\"name\":\"90854\",\"source\":\"149130\",\"target\":\"87828\"},{\"name\":\"86502\",\"source\":\"89647\",\"target\":\"89341\"},{\"name\":\"86502\",\"source\":\"153669\",\"target\":\"89341\"},{\"name\":\"91058\",\"source\":\"97722\",\"target\":\"97824\"},{\"name\":\"91058\",\"source\":\"97722\",\"target\":\"97926\"},{\"name\":\"86502\",\"source\":\"151153\",\"target\":\"89341\"},{\"name\":\"93880\",\"source\":\"151153\",\"target\":\"151459\"},{\"name\":\"86502\",\"source\":\"151646\",\"target\":\"89341\"},{\"name\":\"93880\",\"source\":\"151646\",\"target\":\"151952\"},{\"name\":\"93880\",\"source\":\"149130\",\"target\":\"149436\"},{\"name\":\"119533\",\"source\":\"149130\",\"target\":\"89545\"},{\"name\":\"86502\",\"source\":\"87624\",\"target\":\"89341\"},{\"name\":\"86502\",\"source\":\"87624\",\"target\":\"97110\"},{\"name\":\"91058\",\"source\":\"87624\",\"target\":\"97314\"},{\"name\":\"90854\",\"source\":\"155692\",\"target\":\"87624\"},{\"name\":\"90854\",\"source\":\"156202\",\"target\":\"87624\"},{\"name\":\"90854\",\"source\":\"154689\",\"target\":\"87624\"},{\"name\":\"86502\",\"source\":\"169224\",\"target\":\"89341\"},{\"name\":\"86502\",\"source\":\"183164\",\"target\":\"89341\"},{\"name\":\"91058\",\"source\":\"97110\",\"target\":\"97212\"},{\"name\":\"91058\",\"source\":\"97110\",\"target\":\"97314\"},{\"name\":\"93880\",\"source\":\"155692\",\"target\":\"155998\"},{\"name\":\"119533\",\"source\":\"155692\",\"target\":\"90038\"},{\"name\":\"86502\",\"source\":\"156202\",\"target\":\"89341\"},{\"name\":\"93880\",\"source\":\"156202\",\"target\":\"156508\"},{\"name\":\"91058\",\"source\":\"154689\",\"target\":\"154893\"},{\"name\":\"93880\",\"source\":\"154689\",\"target\":\"154995\"},{\"name\":\"86502\",\"source\":\"94594\",\"target\":\"86706\"},{\"name\":\"86502\",\"source\":\"113685\",\"target\":\"86706\"},{\"name\":\"86502\",\"source\":\"109231\",\"target\":\"86706\"},{\"name\":\"91058\",\"source\":\"94594\",\"target\":\"115895\"},{\"name\":\"94900\",\"source\":\"94594\",\"target\":\"115300\"},{\"name\":\"86502\",\"source\":\"88729\",\"target\":\"94594\"},{\"name\":\"91058\",\"source\":\"113685\",\"target\":\"113787\"},{\"name\":\"94900\",\"source\":\"113685\",\"target\":\"112869\"},{\"name\":\"86502\",\"source\":\"225783\",\"target\":\"113685\"},{\"name\":\"86502\",\"source\":\"228724\",\"target\":\"113685\"},{\"name\":\"91058\",\"source\":\"109231\",\"target\":\"109333\"},{\"name\":\"94900\",\"source\":\"109231\",\"target\":\"108925\"},{\"name\":\"86502\",\"source\":\"162866\",\"target\":\"109231\"},{\"name\":\"86502\",\"source\":\"164787\",\"target\":\"109231\"},{\"name\":\"91058\",\"source\":\"91653\",\"target\":\"94985\"},{\"name\":\"91058\",\"source\":\"91653\",\"target\":\"95087\"},{\"name\":\"86502\",\"source\":\"91653\",\"target\":\"86706\"},{\"name\":\"91551\",\"source\":\"90854\",\"target\":\"91653\"},{\"name\":\"91551\",\"source\":\"117918\",\"target\":\"91653\"},{\"name\":\"94900\",\"source\":\"95495\",\"target\":\"91653\"},{\"name\":\"86502\",\"source\":\"104896\",\"target\":\"86706\"},{\"name\":\"86502\",\"source\":\"113277\",\"target\":\"86706\"},{\"name\":\"91058\",\"source\":\"90854\",\"target\":\"91262\"},{\"name\":\"91364\",\"source\":\"90854\",\"target\":\"91466\"},{\"name\":\"90854\",\"source\":\"161761\",\"target\":\"87420\"},{\"name\":\"90854\",\"source\":\"132674\",\"target\":\"87216\"},{\"name\":\"91551\",\"source\":\"117918\",\"target\":\"114688\"},{\"name\":\"91551\",\"source\":\"117918\",\"target\":\"114994\"},{\"name\":\"117306\",\"source\":\"118224\",\"target\":\"117918\"},{\"name\":\"117306\",\"source\":\"119839\",\"target\":\"117918\"},{\"name\":\"86502\",\"source\":\"95495\",\"target\":\"86706\"},{\"name\":\"91058\",\"source\":\"95495\",\"target\":\"95597\"},{\"name\":\"86502\",\"source\":\"87216\",\"target\":\"95495\"},{\"name\":\"86502\",\"source\":\"122270\",\"target\":\"95495\"}]}"}
```
#to be continue →

