<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.data.KG.ItemMapper">

    <!--    <insert id="addJack" parameterType="com.example.demo.po.JackPo" useGeneratedKeys="true" keyProperty="id">-->
    <!--        insert into JackList(id,dsp) values(#{id},#{dsp})-->
    <!--    </insert>-->

    <insert id="insert" parameterType="com.example.demo.po.ItemPo" useGeneratedKeys="true" keyProperty="recordId">
        insert into nkg.item(id, ver, `drop`, tableId, title, name, division, comment)
        values (#{id}, #{ver},#{drop},#{tableId}, #{title}, #{name}, #{division}, #{comment})
    </insert>


    <!--    <delete id="delJack">-->
    <!--        delete from JackList where id = #{id}-->
    <!--    </delete>-->

    <select id="searchByKeywords" resultMap="ItemPo">
        select id, tableId, title, name, division, comment
        from nkg.item
        where title like '%${keywords}%'
           or name like '%${keywords}%'
    </select>

    <select id="getById" resultMap="ItemPo">
        select id, tableId, title, name, division, comment
        from nkg.item
        where id = #{id}
    </select>

    <delete id="deleteById">
        delete
        from nkg.item
        WHERE id = #{id}
    </delete>

    <!--    <update id="updateJack" parameterType="com.example.demo.po.JackPo" useGeneratedKeys="true" keyProperty="id">-->
    <!--        update JackList-->
    <!--        <set>-->
    <!--            dsp = #{dsp}-->
    <!--        </set>-->
    <!--        where id = #{id}-->
    <!--    </update>-->

    <resultMap id="ItemPo" type="com.example.demo.po.ItemPo">
        <id column="id" property="id"/>
        <result column="tableId" property="tableId"/>
        <result column="title" property="title"/>
        <result column="name" property="name"/>
        <result column="division" property="division"/>
        <result column="comment" property="comment"/>
    </resultMap>

</mapper>