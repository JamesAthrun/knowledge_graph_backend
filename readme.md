# Readme
# 后端的几点说明

## 与前端的交互
### 1.接受请求
GET/POST   
原则上，对简单请求，「删查」使用GET，「增改」使用POST  
POST请求的请求头需带上 'content-type': 'application/json'，RequestBody需使用json字符串格式  
### 2.返回请求
response.content的数据格式为bytes，json解析后得到字典  
{'code':xxx,'message':xxx,'data':xxx}  
其中，code为状态码，message为描述，data为返回对象（json字符串格式）  
#### 操作成功
code为1，message为null  
对不需要返回对象的操作（如简单的「增删改」），data为null  
对需要返回对象的操作（如简单的「查」），对data再次进行json解析后可得到返回对象，如{'id': '1', 'name': 'Jack', 'score':'100'}  
#### 操作失败
code大于1，message为错误信息，data为null  
### *3.加密
后续视需求对response.content进行加密

## 后端项目结构
controller 控制层 如JackController.java  
bl 业务逻辑层接口 如JackService.java  
blImpl 业务逻辑层实现 如JackServiceImpl.java  
data 数据层接口 如JackMapper.java  
dataImpl 数据层实现 如JackMapper.xml，在resources目录下  
po 略  
vo 略  
util 一些工具类  

### 3.异常处理
原则上异常在util.GlobalExceptionHandler统一处理  
### 4.返回值
业务逻辑层的返回值用util.ResultBean统一封装
### 5.数据库
使用mysql数据库，resources目录下的application.yml定义了与数据库的连接

### 6.示例
#### 6.1 搜索页
<http://localhost:8080/KG/search?keywords=佩戴>  
```json
{"code":1,"message":null,"data":"{\"data\":[{\"des\":\"\",\"name\":\"#佩戴口罩\",\"id\":\"125806\"},{\"des\":\"\",\"name\":\"#尽量选择步行或自驾车外出或去医院。在路上和医院时，人与人之间尽可能保持距离，并全程佩戴口罩和手套。\",\"id\":\"127319\"},{\"des\":\"\",\"name\":\"#老人出现发热、咳嗽等可疑症状时，应自我隔离，避免与其他人员近距离接触。由医护人员对其健康状况进行评估，视病情状况送至医疗机构就诊，送医途中应佩戴口罩，尽量避免乘坐公共交通工具。\",\"id\":\"128118\"},{\"des\":\"\",\"name\":\"#不建议有慢性肺病、心脏病的老人佩戴N95/KN95口罩。\",\"id\":\"128934\"},{\"des\":\"\",\"name\":\"#有慢性肺病、心脏病的老人避免佩戴N95/KN95口罩。\",\"id\":\"129036\"},{\"des\":\"\",\"name\":\"#不要带孩子去人多的地方，外出一定要给孩子佩戴口罩，回家后要及时更换衣物并洗手。\",\"id\":\"130651\"},{\"des\":\"\",\"name\":\"#工作时建议佩戴口罩和手套。\",\"id\":\"131246\"},{\"des\":\"\",\"name\":\"#佩戴口罩和手套\",\"id\":\"131348\"},{\"des\":\"\",\"name\":\"#在工作区和休息区，减少与工友交流，采取手势或者其他形体语言示意对方；若必须交流时，则双方佩戴口罩并保持最少 1米以上的距离。\",\"id\":\"131960\"},{\"des\":\"\",\"name\":\"#上门服务时要注意佩戴口罩和手套等。\",\"id\":\"133575\"},{\"des\":\"\",\"name\":\"#佩戴口罩、手套\",\"id\":\"133677\"},{\"des\":\"\",\"name\":\"#下水道维修工人要佩戴口罩、手套、护目镜\",\"id\":\"134986\"},{\"des\":\"\",\"name\":\"#在垃圾清理过程中，对垃圾收运工具进行消毒，佩戴口罩、手套，尽量不用手触碰眼、口、鼻等处。\",\"id\":\"135700\"},{\"des\":\"\",\"name\":\"#前往医院的路上，全程佩戴口罩。如果条件容许，路上打开车窗。\",\"id\":\"136295\"},{\"des\":\"\",\"name\":\"#就医路上佩戴口罩\",\"id\":\"136397\"},{\"des\":\"\",\"name\":\"#康复训练过程中佩戴口罩，注意安全。\",\"id\":\"136805\"},{\"des\":\"\",\"name\":\"#出门时佩戴口罩，注意保暖和手卫生\",\"id\":\"137009\"},{\"des\":\"\",\"name\":\"#就医期间佩戴口罩，应尽量缩短在医院逗留的时间。\",\"id\":\"137111\"},{\"des\":\"\",\"name\":\"#去往工作场所路上应佩戴口罩，各人之间保持一定距离。\",\"id\":\"137519\"},{\"des\":\"\",\"name\":\"#工作路上佩戴口罩\",\"id\":\"137621\"},{\"des\":\"\",\"name\":\"#工作场所多人一起工作时，每人应佩戴口罩。\",\"id\":\"137723\"},{\"des\":\"\",\"name\":\"#多人工作时佩戴口罩\",\"id\":\"137825\"},{\"des\":\"\",\"name\":\"#日常出行时佩戴口罩，外出期间不乱扔垃圾，不随地吐痰，打喷嚏时用纸巾遮住口鼻，或采用肘臂遮挡，尽量与他人保持一定距离，不到人群密集场所活动。外出返回后手卫生。\",\"id\":\"138318\"},{\"des\":\"\",\"name\":\"#日常出行佩戴口罩，注意个人和公共卫生\",\"id\":\"138420\"},{\"des\":\"\",\"name\":\"#在接待访客、审讯嫌疑人时，全程佩戴口罩，并要求访客、嫌疑人佩戴口罩。\",\"id\":\"139338\"},{\"des\":\"\",\"name\":\"#接待、审讯时佩戴口罩\",\"id\":\"139440\"},{\"des\":\"\",\"name\":\"#参加案情会议时，全程佩戴口罩\",\"id\":\"140035\"},{\"des\":\"\",\"name\":\"#在入户调查、设卡检查等外出执勤时应佩戴口罩。\",\"id\":\"140851\"},{\"des\":\"\",\"name\":\"#外出执勤时应佩戴口罩\",\"id\":\"140953\"},{\"des\":\"\",\"name\":\"#在教室、图书馆、食堂、宿舍等人员密集场所应佩戴口罩，尽量少参加群体性聚集性活动。\",\"id\":\"142262\"},{\"des\":\"\",\"name\":\"#佩戴口罩，减少聚集性活动\",\"id\":\"142364\"},{\"des\":\"\",\"name\":\"#外出前往公共场所、乘坐公共交通工具时，应佩戴口罩。\",\"id\":\"144982\"},{\"des\":\"\",\"name\":\"#在社区门口、楼梯口等处张贴告示，提醒居民加强通风、勤洗手、外出注意佩戴口罩等，也可通过短信、社区公众号等进行宣传。\",\"id\":\"145798\"},{\"des\":\"\",\"name\":\"#诊疗环境应通风良好，并常规进行物体表面及地面的消毒，每天2次。发现疑似或确诊患者，立即为患者佩戴口罩，及时转送发热门诊或隔离病区，及时进行终末消毒并做好记录；通知该患者就诊过的有关科室如放射科、化验室等，做好相应的消毒工作。\",\"id\":\"148025\"},{\"des\":\"\",\"name\":\"#从业人员工作过程中必须佩戴口罩，与他人交流时保持安全距离；做好每日健康监测，出现可疑症状时立即前往定点医疗机构就医。\",\"id\":\"149436\"},{\"des\":\"\",\"name\":\"#顾客乘坐厢式电梯时应佩戴口罩，尽量避免直接接触梯内设施。\",\"id\":\"149844\"},{\"des\":\"\",\"name\":\"#可通过视频滚动播放或在超市入口处、楼梯口、电梯间等显著位置处张贴告示，提醒工作人员和顾客注意佩戴口罩、回家后注意洗手等。\",\"id\":\"150643\"},{\"des\":\"\",\"name\":\"#收银员、理货员、保安等要佩戴口罩、经常洗手。\",\"id\":\"152156\"},{\"des\":\"\",\"name\":\"#在显著位置张贴告示，提醒客户办理业务时要佩戴口罩。\",\"id\":\"152666\"},{\"des\":\"\",\"name\":\"#从业人员工作过程中佩戴口罩，有条件的可以佩戴护目镜，工作服定期洗涤、消毒；与他人交流时保持安全距离。\",\"id\":\"154995\"},{\"des\":\"\",\"name\":\"#经营场所应在场所门口设置顾客体温测量点，体温正常方可进入。顾客进入商场应佩戴口罩，人与人之间保持安全距离。\",\"id\":\"155182\"},{\"des\":\"\",\"name\":\"#工作人员应体温正常，无发热咳嗽等症状，并佩戴口罩。\",\"id\":\"155998\"},{\"des\":\"\",\"name\":\"#在办公室工作时，所有人员需要佩戴口罩。\",\"id\":\"156712\"},{\"des\":\"\",\"name\":\"#办公期间佩戴口罩\",\"id\":\"156797\"},{\"des\":\"\",\"name\":\"#办公室内的工作人员谈话交流要佩戴口罩并保持至少 1 米的安全距离。\",\"id\":\"156899\"},{\"des\":\"\",\"name\":\"#公用电话接听时要佩戴口罩，接听电话前后需要对听筒擦拭消毒。\",\"id\":\"157307\"},{\"des\":\"\",\"name\":\"#传递文件或物品的前后都要洗手，传递时都要佩戴口罩。对于负责收发文件或其他用品频繁的工作人员，应佩戴口罩和手套。\",\"id\":\"157511\"},{\"des\":\"\",\"name\":\"#应为职工配备口罩，指导职工正确佩戴口罩、做好口罩的定期更换和使用后口罩的正确处理。\",\"id\":\"157919\"},{\"des\":\"\",\"name\":\"#为工作人员配备口罩，未佩戴口罩的工作人员禁止乘坐班车或进入单位。\",\"id\":\"159432\"},{\"des\":\"\",\"name\":\"#建立探访登记制度，如探访人员有新冠肺炎可疑症状，应拒绝其探访。所有外来探访人员应佩戴口罩。\",\"id\":\"161353\"},{\"des\":\"\",\"name\":\"#乘客、乘务员和驾驶员佩戴口罩，乘客保持安静、减少交流，打喷嚏时用纸巾遮住口鼻，或采用肘臂遮挡等。\",\"id\":\"165892\"},{\"des\":\"\",\"name\":\"#佩戴口罩注意遮挡\",\"id\":\"165994\"},{\"des\":\"\",\"name\":\"#乘客、乘务员佩戴口罩，乘客保持安静、减少交流，打喷嚏时用纸巾遮住口鼻，或采用肘臂遮挡等。\",\"id\":\"167507\"},{\"des\":\"\",\"name\":\"#乘客、船舶工作人员佩戴口罩，乘客保持安静、减少交流，打喷嚏时用纸巾遮住口鼻，或采用肘臂遮挡等。\",\"id\":\"168918\"},{\"des\":\"\",\"name\":\"#客舱乘务员佩戴口罩，可携带含醇类消毒湿巾。乘客佩戴口罩，保持安静、减少交流，打喷嚏时用纸巾遮住口鼻，或采用肘臂遮挡等。\",\"id\":\"170635\"},{\"des\":\"\",\"name\":\"#乘客、与乘客接触的城市轨道交通运营服务人员佩戴口罩，乘客保持安静、减少交流，打喷嚏时用纸巾遮住口鼻，或采用肘臂遮挡等。\",\"id\":\"172862\"},{\"des\":\"\",\"name\":\"#司机佩戴口罩，提醒车上的乘客佩戴口罩并减少交流，打喷嚏时用纸巾遮住口鼻，或采用肘臂遮挡等。\",\"id\":\"173780\"}]}"}
```
#### 6.2 搜索列表页
<http://localhost:8080/KG/getGraphData?id=103774>  
```json
{"code":1,"message":null,"data":"{\"data\":[{\"des\":\"\",\"name\":\"R10203\",\"id\":\"96702\"},{\"des\":\"\",\"name\":\"#传递文件或物品的前后都要洗手，传递时都要佩戴口罩。对于负责收发文件或其他用品频繁的工作人员，应佩戴口罩和手套。\",\"id\":\"157511\"},{\"des\":\"\",\"name\":\"#工作路上佩戴口罩\",\"id\":\"137621\"},{\"des\":\"中文名 写字楼预防措施9\\n英文名 Office_precautions_9\\n\",\"name\":\"R3030809\",\"id\":\"114076\"},{\"des\":\"\",\"name\":\"#采取错时分餐，避免聚餐。每次餐后彻底清扫餐厅环境卫生，餐桌无食物残渣，地面无卫生死角，厨余垃圾及时清运处理。对使用完餐具及时进行清洗和消毒。\",\"id\":\"138726\"},{\"des\":\"中文名 措施主题\\n定义域 C3\\n值域 String\\n\",\"name\":\"P41\",\"id\":\"96413\"},{\"des\":\"\",\"name\":\"#工作日每天上班前测量体温并做好记录，如出现发热以及咳嗽等症状，要及时隔离并就医。\",\"id\":\"137910\"},{\"des\":\"\",\"name\":\"#去往工作场所路上应佩戴口罩，各人之间保持一定距离。\",\"id\":\"137519\"},{\"des\":\"评论 我只能说，懂的都懂。\\n\",\"name\":\"未知实体或属性\",\"id\":\"174477\"},{\"des\":\"\",\"name\":\"#乘客、船舶工作人员佩戴口罩，乘客保持安静、减少交流，打喷嚏时用纸巾遮住口鼻，或采用肘臂遮挡等。\",\"id\":\"168918\"},{\"des\":\"中文名 农民工预防措施4\\n英文名 Migrant_Workers_Protection_4\\n\",\"name\":\"R3010804\",\"id\":\"103978\"},{\"des\":\"中文名 农民工预防措施1\\n英文名 Migrant_Workers_Protection_1\\n\",\"name\":\"R3010801\",\"id\":\"103672\"},{\"des\":\"\",\"name\":\"#返城前测量体温\",\"id\":\"138216\"},{\"des\":\"\",\"name\":\"#注意宿舍卫生\",\"id\":\"138624\"},{\"des\":\"评论 我只能说，懂的都懂。\\n\",\"name\":\"未知实体或属性\",\"id\":\"175191\"},{\"des\":\"\",\"name\":\"#公用电话使用方法\",\"id\":\"157409\"},{\"des\":\"中文名 水路客运预防措施6\\n\",\"name\":\"R3070406\",\"id\":\"120553\"},{\"des\":\"\",\"name\":\"#返城前，要进行体温测量，确保体温无异常升高。\",\"id\":\"138114\"},{\"des\":\"评论 我只能说，懂的都懂。\\n\",\"name\":\"未知实体或属性\",\"id\":\"174171\"},{\"des\":\"\",\"name\":\"#多人工作时佩戴口罩\",\"id\":\"137825\"},{\"des\":\"中文名 写字楼预防措施8\\n英文名 Office_precautions_8\\n\",\"name\":\"R3030808\",\"id\":\"113974\"},{\"des\":\"中文名 农民工预防措施6\\n英文名 Migrant_Workers_Protection_6\\n\",\"name\":\"R3010806\",\"id\":\"104182\"},{\"des\":\"\",\"name\":\"#公司要为员工上门服务提供相应防护用品。\",\"id\":\"134680\"},{\"des\":\"\",\"name\":\"#集体宿舍勤通风，床铺间距离1米以上，每日打扫卫生，垃圾及时清理，每周对宿舍进行彻底清扫和清洁。\",\"id\":\"138522\"},{\"des\":\"评论 我只能说，懂的都懂。\\n\",\"name\":\"未知实体或属性\",\"id\":\"175497\"},{\"des\":\"\",\"name\":\"#公用电话接听时要佩戴口罩，接听电话前后需要对听筒擦拭消毒。\",\"id\":\"157307\"},{\"des\":\"\",\"name\":\"#戴口罩是预防新型冠状病毒肺炎等呼吸道传染病的重要手段之一。\",\"id\":\"125704\"},{\"des\":\"中文名 农民工预防措施2\\n英文名 Migrant_Workers_Protection_2\\n\",\"name\":\"R3010802\",\"id\":\"103774\"},{\"des\":\"\",\"name\":\"#记录体温，如有异常及时隔离\",\"id\":\"138012\"},{\"des\":\"评论 我只能说，懂的都懂。\\n\",\"name\":\"未知实体或属性\",\"id\":\"175089\"},{\"des\":\"\",\"name\":\"#公司要为员工上门服务提供口罩、手套、手消毒液、消毒纸巾、体温计等防护用品。\",\"id\":\"134578\"},{\"des\":\"中文名 适用人群\\n英文名 Applicable people\\n定义域 C3\\n值域 C1\\n\",\"name\":\"P019\",\"id\":\"94985\"},{\"des\":\"中文名 水、电、煤气等工作人员预防措施8\\n英文名 water_electricity_ gas_and_other_workers_Protection_8\\n\",\"name\":\"R3010508\",\"id\":\"102261\"},{\"des\":\"中文名 农民工预防措施7\\n英文名 Migrant_Workers_Protection_7\\n\",\"name\":\"R3010807\",\"id\":\"104284\"},{\"des\":\"中文名 通用预防措施1\\n\",\"name\":\"R1\",\"id\":\"96804\"},{\"des\":\"中文名 建议使用的防护物资\\n英文名 Recommended protective supplies\\n定义域 C3\\n值域 GoodsC0\\n\",\"name\":\"P332\",\"id\":\"96005\"},{\"des\":\"\",\"name\":\"#工作场所多人一起工作时，每人应佩戴口罩。\",\"id\":\"137723\"},{\"des\":\"\",\"name\":\"#传递物品注意事项\",\"id\":\"157613\"},{\"des\":\"\",\"name\":\"#佩戴口罩注意遮挡\",\"id\":\"165994\"},{\"des\":\"中文名 措施描述\\n定义域 C3\\n值域 String\\n\",\"name\":\"P42\",\"id\":\"96515\"},{\"des\":\"中文名 农民工\\n\",\"name\":\"R102030201\",\"id\":\"97722\"},{\"des\":\"\",\"name\":\"#错时就餐，餐具消毒\",\"id\":\"138828\"},{\"des\":\"中文名 农民工预防措施3\\n英文名 Migrant_Workers_Protection_3\\n\",\"name\":\"R3010803\",\"id\":\"103876\"},{\"des\":\"\",\"name\":\"#佩戴口罩\",\"id\":\"125806\"}],\"link\":[{\"name\":\"96005\",\"source\":\"113974\",\"target\":\"174171\"},{\"name\":\"96005\",\"source\":\"103672\",\"target\":\"174171\"},{\"name\":\"96515\",\"source\":\"102261\",\"target\":\"134578\"},{\"name\":\"94985\",\"source\":\"104284\",\"target\":\"97722\"},{\"name\":\"94985\",\"source\":\"103978\",\"target\":\"97722\"},{\"name\":\"94985\",\"source\":\"120553\",\"target\":\"96702\"},{\"name\":\"96413\",\"source\":\"104284\",\"target\":\"138828\"},{\"name\":\"96413\",\"source\":\"103978\",\"target\":\"138216\"},{\"name\":\"96005\",\"source\":\"102261\",\"target\":\"175191\"},{\"name\":\"94985\",\"source\":\"103876\",\"target\":\"97722\"},{\"name\":\"96413\",\"source\":\"120553\",\"target\":\"165994\"},{\"name\":\"96005\",\"source\":\"102261\",\"target\":\"174171\"},{\"name\":\"96413\",\"source\":\"104182\",\"target\":\"138624\"},{\"name\":\"96515\",\"source\":\"113974\",\"target\":\"157307\"},{\"name\":\"96515\",\"source\":\"103672\",\"target\":\"137519\"},{\"name\":\"96005\",\"source\":\"120553\",\"target\":\"175497\"},{\"name\":\"96005\",\"source\":\"120553\",\"target\":\"174171\"},{\"name\":\"96413\",\"source\":\"113974\",\"target\":\"157409\"},{\"name\":\"96515\",\"source\":\"104284\",\"target\":\"138726\"},{\"name\":\"96515\",\"source\":\"104182\",\"target\":\"138522\"},{\"name\":\"96413\",\"source\":\"96804\",\"target\":\"125806\"},{\"name\":\"96515\",\"source\":\"114076\",\"target\":\"157511\"},{\"name\":\"96515\",\"source\":\"103978\",\"target\":\"138114\"},{\"name\":\"96413\",\"source\":\"103672\",\"target\":\"137621\"},{\"name\":\"96515\",\"source\":\"103774\",\"target\":\"137723\"},{\"name\":\"96413\",\"source\":\"114076\",\"target\":\"157613\"},{\"name\":\"96005\",\"source\":\"102261\",\"target\":\"174477\"},{\"name\":\"94985\",\"source\":\"103774\",\"target\":\"97722\"},{\"name\":\"96413\",\"source\":\"103774\",\"target\":\"137825\"},{\"name\":\"96005\",\"source\":\"96804\",\"target\":\"174171\"},{\"name\":\"96515\",\"source\":\"96804\",\"target\":\"125704\"},{\"name\":\"96005\",\"source\":\"102261\",\"target\":\"175089\"},{\"name\":\"96515\",\"source\":\"120553\",\"target\":\"168918\"},{\"name\":\"96413\",\"source\":\"102261\",\"target\":\"134680\"},{\"name\":\"94985\",\"source\":\"103672\",\"target\":\"97722\"},{\"name\":\"96005\",\"source\":\"103774\",\"target\":\"174171\"},{\"name\":\"96005\",\"source\":\"113974\",\"target\":\"174477\"},{\"name\":\"94985\",\"source\":\"104182\",\"target\":\"97722\"},{\"name\":\"96005\",\"source\":\"114076\",\"target\":\"174171\"},{\"name\":\"96515\",\"source\":\"103876\",\"target\":\"137910\"},{\"name\":\"96413\",\"source\":\"103876\",\"target\":\"138012\"}]}"}
```

### 7. 数据源
见群文件
#to be continue →

